# REST API

| Метод      | Endpoint                                    | Описание                     |
| ---------- | ------------------------------------------- | ---------------------------- |
| **GET**    | `/servers/:id/roles`                        | список ролей сервера         |
| **POST**   | `/servers/:id/roles`                        | создать новую роль           |
| **PATCH**  | `/servers/:id/roles/:roleId`                | обновить название/права роли |
| **DELETE** | `/servers/:id/roles/:roleId`                | удалить роль                 |
| **POST**   | `/servers/:id/members/:userId/role/:roleId` | назначить пользователю роль  |
| **DELETE** | `/servers/:id/members/:userId/role/:roleId` | снять роль у пользователя    |

| Код права          | Назначение                                           |
| ------------------ | ---------------------------------------------------- |
| `ADMIN`            | Полный доступ (все права, игнор остальных проверок)  |
| `MANAGE_SERVER`    | Изменение настроек сервера (название, иконка и т.д.) |
| `MANAGE_ROLES`     | Создание, редактирование и удаление ролей            |
| `MANAGE_CHANNELS`  | Создание/удаление чатов, изменение их настроек       |
| `VIEW_AUDIT_LOGS`  | Просмотр `audit_logs`                                |
| `KICK_USERS`       | Кик участников сервера                               |
| `BAN_USERS`        | Бан участников сервера                               |
| `UNBAN_USERS`      | Разбан участников                                    |
| `MUTE_USERS`       | Мут в текстовых каналах                |
| `MANAGE_MESSAGES`  | Удаление и редактирование чужих сообщений            |
| `SEND_MESSAGES`    | Отправка сообщений                                   |
| `ATTACH_FILES`     | Прикрепление файлов и документов                     |
| `MANAGE_INVITES`   | Создание и отзыв приглашений (`invites`)             |
| `CHANGE_NICKNAME`  | Изменение своего ника                                |
| `MANAGE_NICKNAMES` | Изменение никнеймов других                           |
| `VIEW_CHANNEL`     | Просмотр чатов                                       |
